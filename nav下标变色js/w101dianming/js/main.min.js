function trueList(){for(var e=0,t=0;t<xJSON.length;t++)xJSON[t].boolean===!0&&e++;return e}function xRan(){var e=Math.floor(Math.random()*xJSON.length);xRandom[e]!==e?(xRandom[e]=e,xJSON[e].boolean=!0,tr[e].className="success",xBollean=tr[e].childNodes[2],xBollean.innerHTML="true",xBollean.className="text-success",b[e].disabled="disabled",tips.innerHTML=e+1+" "+xJSON[e].name,tips.className="alert alert-info",xClickStart++,r.disabled=""):xClickStart<xJSON.length?xRan():(tips.innerHTML="点名完成，请点击重置按钮重置。",tips.className="alert alert-danger",s.disabled="disabled")}var app=document.querySelector("#app");for(var i in xJSON){var tr=document.createElement("tr");xJSON[i].boolean===!0?tr.className="success":tr.className="danger",app.appendChild(tr);var th=document.createElement("th");th.scope="row",th.innerHTML=Number(i)+1,tr.appendChild(th);var td=document.createElement("td");td.innerHTML=xJSON[i].name,tr.appendChild(td);var td2=document.createElement("td");td2.innerHTML=xJSON[i].boolean,xJSON[i].boolean===!0?td2.className="text-success":td2.className="text-danger",tr.appendChild(td2);var td3=document.createElement("td");tr.appendChild(td3);var btn=document.createElement("button");btn.className="btn btn-default btn-xs",btn.innerHTML="设置已点",xJSON[i].boolean===!0?btn.disabled="disabled":btn.disabled="",td3.appendChild(btn)}for(var s=document.querySelector("#s"),xRandom=[],xClickStart=0+trueList(),tips=document.querySelector("#tips"),r=document.querySelector("#r"),b=document.querySelectorAll("#app button"),tr=document.querySelectorAll("#app tr"),xBollean,i=0;i<xJSON.length;i++)xJSON[i].boolean===!0&&(xRandom[i]=i);s.addEventListener("click",function(){xRan(),console.log(xJSON)}),r.addEventListener("click",function(){for(var e=0;e<xJSON.length;e++)xJSON[e].boolean=!1;xClickStart=0+trueList(),xRandom=[];for(var e=0;e<xJSON.length;e++)tr[e].className="danger",b[e].disabled="",xBollean=tr[e].childNodes[2],xBollean.innerHTML="false",xBollean.className="text-danger";r.disabled="disabled",s.disabled="",localStorage.clear(),history.go(0)});var oUl=document.getElementById("app"),aLi=oUl.getElementsByTagName("button");oUl.addEventListener("click",function(e){var e=e||window.event,t=e.target||e.srcElement;if("button"==t.nodeName.toLowerCase()){for(var a,n=t,l=0;l<aLi.length;l++)aLi[l]===t&&(a=l);a>=0&&console.log("第"+a+"个"),xRandom[a]=a,xClickStart++,n.disabled="disabled",r.disabled="",xJSON[a].boolean=!1,tr[a].className="success",xBollean=tr[a].childNodes[2],xBollean.innerHTML="true",xBollean.className="text-success"}});